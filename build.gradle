buildscript {
    repositories {
        maven {
			url = 'https://repo.spring.io/plugins-release'
			if (project.hasProperty('artifactoryUsername')) {
				credentials {
					username "$artifactoryUsername"
					password "$artifactoryPassword"
				}
			}
		}
    }
    dependencies {
        classpath "com.github.ben-manes:gradle-versions-plugin:0.17.0"
        classpath('org.asciidoctor:asciidoctor-gradle-plugin:1.5.1')
        classpath("io.spring.gradle:spring-io-plugin:0.0.6.RELEASE")
        classpath "org.jfrog.buildinfo:build-info-extractor-gradle:4.12.0"
        classpath 'org.hidetake:gradle-ssh-plugin:2.10.1'
        classpath 'io.codearte.gradle.nexus:gradle-nexus-staging-plugin:0.10.0'
    }
}

apply plugin: 'io.spring.convention.root'
apply plugin: 'io.spring.convention.docs'

description = "Spring LDAP"

nohttp {
	allowlistFile = project.file("etc/nohttp/allowlist.lines")
	source.exclude "buildSrc/build/**"
}